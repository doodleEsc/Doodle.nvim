# Doodle.nvim UI 改进 TODO 列表

## 从 avante.nvim sidebar.lua 分析的功能特性

### 🏗️ 核心架构改进
- [ ] **多容器布局系统**
  - [x] 基础的双窗口布局（output + input）
  - [ ] 文件选择器容器 (selected_files_container)
  - [ ] 选中代码容器 (selected_code_container) 
  - [ ] 任务列表容器 (todos_container)
  - [ ] 动态容器高度调整

### 📐 布局和样式
- [ ] **智能尺寸计算**
  - [ ] 根据内容动态调整各容器高度
  - [ ] 支持水平和垂直布局切换
  - [ ] 响应式布局调整
- [ ] **视觉增强**
  - [ ] 容器头部标题渲染
  - [ ] 文件图标和语法高亮支持
  - [ ] 改进的边框和分隔符样式
  - [ ] 状态指示器（生成中、成功、失败等）

### 🎛️ 交互功能
- [ ] **文件管理**
  - [ ] 文件选择器集成
  - [ ] 拖拽添加/移除文件
  - [ ] 文件预览功能
  - [ ] 相对路径显示
- [ ] **输入增强**
  - [ ] 输入提示和帮助信息
  - [ ] 命令补全（斜杠命令支持）
  - [ ] 历史记录导航
  - [ ] 多行输入支持

### 🤖 智能功能
- [ ] **工具集成**
  - [ ] LLM 工具调用支持
  - [ ] 代码查看工具
  - [ ] 文件操作工具
  - [ ] 诊断信息集成
- [ ] **会话管理**
  - [ ] 聊天历史持久化
  - [ ] 记忆总结功能
  - [ ] 令牌使用统计
  - [ ] 会话状态管理

### 📋 任务管理
- [ ] **TODO 系统**
  - [ ] 任务列表显示
  - [ ] 任务状态切换（待办/进行中/完成/取消）
  - [ ] 任务进度统计
  - [ ] 任务持久化存储

### ⌨️ 快捷键和用户体验
- [ ] **高级导航**
  - [ ] 容器间快速切换
  - [ ] 智能焦点管理
  - [ ] 滚动位置记忆
  - [ ] 自动滚动到底部
- [ ] **快捷操作**
  - [ ] 快速文件添加/移除
  - [ ] 一键清空功能
  - [ ] 布局切换快捷键
  - [ ] 状态栏集成

### 🔧 技术改进
- [ ] **性能优化**
  - [ ] 防抖动输入处理
  - [ ] 懒加载和虚拟滚动
  - [ ] 内存管理优化
- [ ] **错误处理**
  - [ ] 优雅的错误显示
  - [ ] 连接失败重试
  - [ ] 用户友好的错误信息

### 🎨 主题和外观
- [ ] **主题支持**
  - [ ] 自定义颜色方案
  - [ ] 高对比度模式
  - [ ] 图标自定义
- [ ] **动画效果**
  - [ ] 平滑的容器切换
  - [ ] 加载动画
  - [ ] 状态变化过渡

## 优先级分类

### 🔥 高优先级（下个版本）
1. 多容器布局系统
2. 智能尺寸计算
3. 文件选择器集成
4. 状态指示器

### 🟡 中优先级（后续版本）
1. 任务管理系统
2. 工具集成
3. 会话管理
4. 视觉增强

### 🟢 低优先级（未来规划）
1. 主题支持
2. 动画效果
3. 性能优化
4. 高级导航功能

---
*生成时间: $(date)* 